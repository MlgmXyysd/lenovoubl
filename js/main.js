"use strict";mdui.setColorScheme("#fb7299");const $=(e)=>document.querySelector(e);const ZERO_PADDING=new Uint8Array([0]);const OS_TYPE={"ZUI":0,"ZUX":1};const YEAR=new Date().getFullYear();const isSerialLegitimate=(str)=>{return/^[a-zA-Z0-9]+$/.test(str)};const append=(content,padding,length)=>{if(!(content instanceof Uint8Array)||!(padding instanceof Uint8Array)||padding.byteLength===0||typeof length!=="number"||content.byteLength>=length){return content}length-=content.byteLength;const repeatCount=Math.ceil(length/padding.byteLength);const fullPadding=new Uint8Array(repeatCount*padding.byteLength);for(let i=0;i<repeatCount;i++){fullPadding.set(padding,i*padding.byteLength)}return mergeArrayBuffer(content,fullPadding.subarray(0,length))};const mergeArrayBuffer=(...arrs)=>{if(arrs.length===0){return new Uint8Array(0)}const totalLength=arrs.reduce((sum,arr)=>{if(!(arr instanceof Uint8Array)){return-Infinity}return sum+arr.length},0);if(totalLength<=0){return new Uint8Array(0)}const result=new Uint8Array(totalLength);let offset=0;for(const arr of arrs){result.set(arr,offset);offset+=arr.length}return result};const strToArrayBuffer=(str)=>{const buffer=new Uint8Array(str.length);for(let i=0;i<str.length;i++){buffer[i]=str.charCodeAt(i)}return buffer};const base64ToArrayBuffer=(data)=>{return strToArrayBuffer(window.atob(data))};const generateUnlockData=(offsets,headers,content,sigdata,serial)=>{return mergeArrayBuffer(append(base64ToArrayBuffer(headers),ZERO_PADDING,offsets[1]),append(base64ToArrayBuffer(content),ZERO_PADDING,offsets[2]-offsets[1]),append(serial,ZERO_PADDING,offsets[3]-offsets[2]),base64ToArrayBuffer(sigdata))};const generateUnlockZUI=(serial)=>{const FILE_OFFSETS=[16,576,2048,4096];const FILE_HEADERS="QU5EUk9JRCEKAAAAAIAAEAAAAAAAAAARAAAAAAAA8BAAAQAQAAgAAA==";const FILE_CONTENT="6r3GZB6a41IwAADzLHLILPET1TE=";const FILE_SIGDATA="MIIFBgIBATCCA+EwggLJoAMCAQICCQCiAISzMuYMgDANBgkqhkiG9w0BAQsFADCBhjELMAkGA1UEBhMCQ04xCzAJBgNVBAgMAkJKMRUwEwYDVQQHDAxCZWlqaW5nIFZpZXcxDzANBgNVBAoMBkxFTk9WTzEPMA0GA1UECwwGTW9iaWxlMQ8wDQYDVQQDDAZMRU5PVk8xIDAeBgkqhkiG9w0BCQEWEWxlbm92b0BsZW5vdm8uY29tMB4XDTE4MDEwNTA3MjEzM1oXDTQ1MDUyMzA3MjEzM1owgYYxCzAJBgNVBAYTAkNOMQswCQYDVQQIDAJCSjEVMBMGA1UEBwwMQmVpamluZyBWaWV3MQ8wDQYDVQQKDAZMRU5PVk8xDzANBgNVBAsMBk1vYmlsZTEPMA0GA1UEAwwGTEVOT1ZPMSAwHgYJKoZIhvcNAQkBFhFsZW5vdm9AbGVub3ZvLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOFGyTPBefCQCBb5hrU3r8O9XofI6XoP7Rj5rJeD9eVikRjShvSAVIaKZWsxZXEfRgNndL70pM9L24qdpbWvOKfN4lUSbkpHdOw7ldaRjznB5I32zgRnzMrgKsM6MR9ePC+tx8lrC5BbJnMtr2ocuMY+xO5A2QlhUg2gujhksdFvX8mUf0yUS2SScEfO32tN8YU27oJUi9RQ6/eVCVMJ3HvEo9T/CV51Nqzdo7Ehd9bWndbE6A+TSicN4/QxNi7DjwC2qjPgp6m4+peNTqxwBMqkb8Q5ll2TgeglrmYA4M+kRlWsPhchR/BFTnUEOf/naM+xs90TzjN/RGs92YvuutkCAwEAAaNQME4wHQYDVR0OBBYEFHjfVJF3GxRNUk/7NLyabPMhwVrfMB8GA1UdIwQYMBaAFHjfVJF3GxRNUk/7NLyabPMhwVrfMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBANpz4bY3CQ3w9tIFl+/1VenrgLVD++sRAQxz2wIXRGAjmmOQzvTgJYXHNwywHHwC/QOqXp08ZFbrAhi6dbL0xyIVkvAeE/+Ji78IZrupfYccw6xNuUI1flJVfxDWDofp0YluQ45rme6VZRlRYxvqEvozAvNapfiLleFMEW68orWDxW3ahAK6aop9Y5DarmeZeNHBvN1l2kecdfGjrZIrcA7dFYFS4pfKUjRWp7QIdju55C0fFIhg2gBZU6cWUSjy12pHyor6E6QcrH8W49fBLI/IgvUGqvNk77xqrStw9n2jbyKBLu3Q7l7aOwlxTTrCfZfYioToRiAfry+w7X1fXIUwCwYJKoZIhvcNAQELMAsTBS9ib290AgIQAASCAQCB1hNRsL2Ocko2KTvJd0/IhdPXTqYf1mErWUwIcl2uvkKxi42xcxUUgH/67yIw77l4hmrxAFqdQD9sKtC7VmY8yvl2l0rU4hSwa0rbYT/ij39Ww+cANh19Qohpx16QQbc2OsvAoz+/IBL/ftqt+9C3wZJHM5tr/BN5AMS1ebPf5Xtg8RgAcMU1iBVR5psGWsaaBKDmkGHqtiRBTGeWqJzSp6NV85CB9aH/EJR9CPzVMOApCHc3Ek3Gj+n+X+j64bxSphdob1R0Rnn2q2Dud1A6JlG5t6tX0iP5exHdJMLfLC8mDkKfCkVkZjeVFnX/75i3LdkR0dLuHAHYXzDD+8Uo";if(!isSerialLegitimate(serial)||serial.length>FILE_OFFSETS[0]){return false}serial=append(append(strToArrayBuffer(serial),new Uint8Array([48]),8),ZERO_PADDING,FILE_OFFSETS[0]);return generateUnlockData(FILE_OFFSETS,FILE_HEADERS,FILE_CONTENT,FILE_SIGDATA,serial)};const generateUnlockZUX=(serial)=>{const FILE_OFFSETS=[64,20,36,100];const FILE_HEADERS="MWEyYmxlbm92bzNjNGQ1ZQ==";const FILE_CONTENT="AQAAAAABAAAgAAAAAQAAAA==";const FILE_SIGDATA="Sc07NLYUG9uwSNYyg/pRiVerEg9mxUKPT2DYN/8z07IlhimZE1lfzCLdG65CMNaTQVQ2up4vboBsQ/vncieUYHnu4lVZJLBpz3dtFYqUFbptJ7s5fp0XgR1m0600pcr6iMux9t9hsek1B9ksz+j2usGOELNQDoxDC1uEe2I9QqRGgrSpoVqJE+sHI06EJrN8vOrjDR7ZmqCMsZ5NbB+1Gyq7+DKsKNHeWqGWoR695eJVieCYG9OYQ2X8ySgXs/VKyAdn5Ox92BEzHRnBXY5DjxJ8vsmBsMh4SsmLsSSPupBq/fbCsEndt9oTnenacEVcjihN6b9TZ+quJW6AMeDsPQ==";if(!isSerialLegitimate(serial)||serial.length!==FILE_OFFSETS[0]){return false}serial=strToArrayBuffer(serial);return generateUnlockData(FILE_OFFSETS,FILE_HEADERS,FILE_CONTENT,FILE_SIGDATA,serial)};const downloadUnlockData=(type,serial)=>{let data;switch(parseInt(type)){case OS_TYPE.ZUI:data=generateUnlockZUI(serial);break;case OS_TYPE.ZUX:data=generateUnlockZUX(serial);break}if(!data){return false}const blob=document.createElement("a");blob.href=URL.createObjectURL(new Blob([data],{type:"application/octet-stream"}));blob.download="sn_"+serial+".img";blob.click();blob.remove();return true};document.onload=()=>{Array.prototype.forEach.call($("#year"),(i)=>{i.innerHTML=YEAR})};